# üöÄ MVP –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Medusa —Å SQLite

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –¥–ª—è backend
mkdir medusa-backend
cd medusa-backend

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Medusa —Å SQLite
npx create-medusa-app@latest

# –í—ã–±–∏—Ä–∞–µ–º:
# ‚úÖ Backend only
# ‚úÖ SQLite (–≤–º–µ—Å—Ç–æ PostgreSQL)
# ‚úÖ Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è)
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–µ–º .env —Ñ–∞–π–ª
nano .env
```

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
DATABASE_URL=file:./data.db

# JWT —Å–µ–∫—Ä–µ—Ç (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É)
JWT_SECRET=biomorphx-super-secret-jwt-key-2024

# Cookie —Å–µ–∫—Ä–µ—Ç (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É)
COOKIE_SECRET=biomorphx-super-secret-cookie-key-2024

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
NODE_ENV=development

# –ü–ª–∞—Ç–µ–∂–∏ (–¥–æ–±–∞–≤–∏–º –ø–æ–∑–∂–µ)
# STRIPE_API_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# –î–æ—Å—Ç–∞–≤–∫–∞ (–¥–æ–±–∞–≤–∏–º –ø–æ–∑–∂–µ)
# SHIPPO_API_KEY=shippo_test_...
```

### 3. –ó–∞–ø—É—Å–∫ Medusa Backend

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
npx medusa migrations run

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev

# –ò–ª–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
npm run start
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
curl http://localhost:9000/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: {"status":"ok"}
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ VDS

#### 5.1 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh username@your-server-ip
```

#### 5.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –ü–û
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 18
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx
sudo apt install -y nginx certbot python3-certbot-nginx

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2
sudo npm install -g pm2
```

#### 5.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Medusa Backend
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏
mkdir -p /home/username/medusa-backend
cd /home/username/medusa-backend

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Medusa
npx create-medusa-app@latest

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
nano .env
```

```env
DATABASE_URL=file:./data.db
JWT_SECRET=biomorphx-super-secret-jwt-key-2024
COOKIE_SECRET=biomorphx-super-secret-cookie-key-2024
NODE_ENV=production
```

#### 5.4 –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ú–∏–≥—Ä–∞—Ü–∏–∏
npx medusa migrations run

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2
pm2 start npm --name "medusa-backend" -- start

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
pm2 save

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
pm2 startup
```

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

#### 6.1 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è backend
```bash
sudo nano /etc/nginx/sites-available/biomorphx-backend
```

```nginx
server {
    listen 80;
    server_name api.yourdomain.com;

    location / {
        proxy_pass http://localhost:9000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}
```

#### 6.2 –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–∞–π—Ç–∞
```bash
sudo ln -s /etc/nginx/sites-available/biomorphx-backend /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

### 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot --nginx -d api.yourdomain.com

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo crontab -e
# –î–æ–±–∞–≤–∏—Ç—å: 0 12 * * * /usr/bin/certbot renew --quiet
```

### 8. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend

#### 8.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –í –ø–∞–ø–∫–µ biomorphx-frontend
nano .env
```

```env
NEXT_PUBLIC_MEDUSA_BACKEND_URL=https://api.yourdomain.com
NODE_ENV=production
```

#### 8.2 –ó–∞–ø—É—Å–∫ Frontend
```bash
npm install
npm run build
pm2 start server.js --name "biomorphx-frontend"
pm2 save
```

### 9. –ú–∏–≥—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤

```bash
# –í –ø–∞–ø–∫–µ frontend
node scripts/migrate-products.js
```

### 10. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

#### 10.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ backend
```bash
curl https://api.yourdomain.com/health
```

#### 10.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend
```bash
curl https://yourdomain.com
```

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –°—Ç–∞—Ç—É—Å PM2
pm2 status

# –õ–æ–≥–∏ backend
pm2 logs medusa-backend

# –õ–æ–≥–∏ frontend
pm2 logs biomorphx-frontend

# –õ–æ–≥–∏ Nginx
sudo tail -f /var/log/nginx/access.log
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ SQLite
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
cp /home/username/medusa-backend/data.db /home/username/backups/data-$(date +%Y%m%d).db

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø (–¥–æ–±–∞–≤–∏—Ç—å –≤ crontab)
0 2 * * * cp /home/username/medusa-backend/data.db /home/username/backups/data-$(date +\%Y\%m\%d).db
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
# Backend
cd /home/username/medusa-backend
git pull
npm install
pm2 restart medusa-backend

# Frontend
cd /home/username/biomorphx-frontend
git pull
npm install
npm run build
pm2 restart biomorphx-frontend
```

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å MVP

- **VDS**: ~500-800 —Ä—É–±/–º–µ—Å (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–∞—Ä–∏—Ñ)
- **–î–æ–º–µ–Ω**: ~500-1000 —Ä—É–±/–≥–æ–¥
- **SSL**: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (SQLite)
- **–ò—Ç–æ–≥–æ**: ~1000-1500 —Ä—É–±/–º–µ—Å

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É –≤–∞—Å –±—É–¥–µ—Ç:
- ‚úÖ **Backend API**: https://api.yourdomain.com
- ‚úÖ **Frontend**: https://yourdomain.com
- ‚úÖ **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π e-commerce** —Å –∫–æ—Ä–∑–∏–Ω–æ–π –∏ –∑–∞–∫–∞–∑–∞–º–∏
- ‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø–ª–∞—Ç–µ–∂–∞–º** (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å Stripe)
- ‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–æ—Å—Ç–∞–≤–∫–µ** (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –°–î–≠–ö)

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞—Ç–µ–∂–∏** (Stripe)
2. **–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É** (–°–î–≠–ö)
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É**
4. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã**
5. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**

