# üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è BiomorphX

## üñ•Ô∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–û–°:** Ubuntu 20.04+ / Debian 11+ / CentOS 8+
- **RAM:** –ú–∏–Ω–∏–º—É–º 2GB
- **–î–∏—Å–∫:** 20GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä:** 1+ —è–¥—Ä–æ

---

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **Node.js 18+**
```bash
# Ubuntu/Debian
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# CentOS/RHEL
curl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -
sudo yum install -y nodejs
```

### 2. **MySQL 8.0+**
```bash
# Ubuntu/Debian
sudo apt install -y mysql-server

# CentOS/RHEL
sudo yum install -y mysql-server
```

### 3. **Nginx**
```bash
# Ubuntu/Debian
sudo apt install -y nginx

# CentOS/RHEL
sudo yum install -y nginx
```

### 4. **PM2 (–º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)**
```bash
sudo npm install -g pm2
```

---

## üìã Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (package.json)

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `next: 14.2.5` - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- `react: 18.3.1` - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- `react-dom: 18.3.1` - React DOM
- `mysql2: ^3.14.3` - MySQL –¥—Ä–∞–π–≤–µ—Ä
- `nodemailer: ^6.10.1` - –û—Ç–ø—Ä–∞–≤–∫–∞ email
- `@fortawesome/fontawesome-free: ^7.0.0` - –ò–∫–æ–Ω–∫–∏

### **Dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `typescript: ^5` - TypeScript
- `eslint: ^8.57.0` - –õ–∏–Ω—Ç–µ—Ä
- `@types/node: ^20` - –¢–∏–ø—ã Node.js
- `@types/react: ^18` - –¢–∏–ø—ã React
- `@types/react-dom: ^18` - –¢–∏–ø—ã React DOM

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### **–¢–∞–±–ª–∏—Ü—ã:**
1. **orders** - –ó–∞–∫–∞–∑—ã
   - id, external_id, customer_email, customer_name, customer_phone
   - shipping_address, total_price, status, created_at

2. **order_items** - –¢–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–∞—Ö
   - id, order_id, product_id, title, quantity, unit_price

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```sql
CREATE DATABASE biomorphx CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'biomorphx_user'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON biomorphx.* TO 'biomorphx_user'@'localhost';
```

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL=mysql://user:password@localhost:3306/biomorphx

# SMTP (–ø–æ—á—Ç–∞)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
SMTP_FROM="BiomorphX <noreply@biomorphx.com>"

# –ó–∞–∫–∞–∑—ã
ORDER_EMAIL_TO=your_email@gmail.com

# –û–∫—Ä—É–∂–µ–Ω–∏–µ
NODE_ENV=production

# –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
ADMIN_USER=admin
ADMIN_PASS=strong_password
```

---

## üåê –í–µ–±-—Å–µ—Ä–≤–µ—Ä (Nginx)

### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- Reverse proxy –Ω–∞ –ø–æ—Ä—Ç 3000
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã Next.js
- Gzip —Å–∂–∞—Ç–∏–µ
- SSL –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### **–ü–æ—Ä—Ç—ã:**
- **80** - HTTP
- **443** - HTTPS
- **3000** - Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **3306** - MySQL

---

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å—ã (PM2)

### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```javascript
{
  name: 'biomorphx',
  script: 'npm',
  args: 'start',
  instances: 1,
  autorestart: true,
  max_memory_restart: '1G'
}
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/home/biomorphx/
‚îú‚îÄ‚îÄ biomorphx/           # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ .next/          # –°–±–æ—Ä–∫–∞ Next.js
‚îÇ   ‚îú‚îÄ‚îÄ public/         # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ src/            # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ .env           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ package.json   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ backups/           # –ë—ç–∫–∞–ø—ã
‚îî‚îÄ‚îÄ logs/             # –õ–æ–≥–∏
```

---

## üöÄ –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone https://github.com/max133Z/biomorphx.git

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# 3. –°–±–æ—Ä–∫–∞
npm run build

# 4. –ó–∞–ø—É—Å–∫
npm start
```

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```bash
# PM2
pm2 start ecosystem.config.js
pm2 restart biomorphx
pm2 logs biomorphx

# Nginx
sudo systemctl restart nginx
sudo nginx -t

# MySQL
sudo systemctl restart mysql
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### **–§–∞–π—Ä–≤–æ–ª:**
```bash
sudo ufw allow ssh
sudo ufw allow 'Nginx Full'
sudo ufw enable
```

### **SSL:**
```bash
sudo certbot --nginx -d your-domain.com
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **–õ–æ–≥–∏:**
- `/var/log/nginx/` - Nginx –ª–æ–≥–∏
- `/var/log/mysql/` - MySQL –ª–æ–≥–∏
- `pm2 logs` - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–≥–∏

### **–ú–µ—Ç—Ä–∏–∫–∏:**
- `pm2 monit` - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- `htop` - –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- `df -h` - –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ

---

## üîß –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### **–ë—ç–∫–∞–ø—ã:**
```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã
0 2 * * * /home/biomorphx/backup.sh
```

### **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo apt install unattended-upgrades
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] Node.js 18+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] MySQL –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] Nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] PM2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ (`npm run build`)
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- [ ] .env —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–æ–ª—É—á–µ–Ω
- [ ] –§–∞–π—Ä–≤–æ–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ë—ç–∫–∞–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### **–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:**
1. **–ü–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç** ‚Üí `pm2 restart biomorphx`
2. **–û—à–∏–±–∫–∏ –ë–î** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DATABASE_URL –≤ .env
3. **SMTP –æ—à–∏–±–∫–∏** ‚Üí –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SMTP –≤ .env
4. **Nginx –æ—à–∏–±–∫–∏** ‚Üí `sudo nginx -t`

### **–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
pm2 status
sudo systemctl status nginx mysql

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs biomorphx
sudo tail -f /var/log/nginx/error.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
pm2 restart all
sudo systemctl restart nginx mysql
```
