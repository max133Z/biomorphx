import medusaClient from "../src/lib/medusa.js";

// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã
const existingProducts = [
  {
    id: 'l-threonine',
    name: 'L-Threonine (L-–¢—Ä–µ–æ–Ω–∏–Ω)',
    subtitle: '–ù–µ–∑–∞–º–µ–Ω–∏–º–∞—è –∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç–∞ –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è –∫–æ–∂–∏, —Å—É—Å—Ç–∞–≤–æ–≤ –∏ –∏–º–º—É–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã',
    longDescription: '–¢—Ä–µ–æ–Ω–∏–Ω ‚Äî —ç—Ç–æ –Ω–µ–∑–∞–º–µ–Ω–∏–º–∞—è –∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Å–∏–Ω—Ç–µ–∑–µ –≤–∞–∂–Ω—ã—Ö –±–µ–ª–∫–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∫–æ–ª–ª–∞–≥–µ–Ω –∏ —ç–ª–∞—Å—Ç–∏–Ω, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ—ë –≤–∞–∂–Ω–æ–π –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è –∫–æ—Å—Ç–µ–π, —Å—É—Å—Ç–∞–≤–æ–≤ –∏ –∫–æ–∂–∏.',
    price: 650,
    quantity: '300 –º–≥ | 60 –∫–∞–ø—Å—É–ª',
    image: '/img/L-Threonine.png',
    badge: '–ù–æ–≤–∏–Ω–∫–∞',
    isTopProduct: true,
    isMainTop: false,
  },
  {
    id: 'l-proline',
    name: 'L-Proline (L-–ü—Ä–æ–ª–∏–Ω)',
    subtitle: '–ö–∏—Ä–ø–∏—á–∏–∫ –¥–ª—è –º–æ–ª–æ–¥–æ—Å—Ç–∏ –≤–∞—à–µ–π –∫–æ–∂–∏, –≥–∏–±–∫–æ—Å—Ç–∏ —Å—É—Å—Ç–∞–≤–æ–≤ –∏ –∫—Ä–µ–ø–∫–∏—Ö —Å–æ—Å—É–¥–æ–≤',
    longDescription: '–ü—Ä–æ–ª–∏–Ω ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è –∫–æ–ª–ª–∞–≥–µ–Ω–∞, –±–µ–ª–∫–∞ –º–æ–ª–æ–¥–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–æ—á–Ω–æ—Å—Ç—å –∏ —ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –Ω–∞—à–∏—Ö —Ç–∫–∞–Ω–µ–π.',
    price: 800,
    quantity: '400 –º–≥ | 60 —Ç–∞–±–ª–µ—Ç–æ–∫',
    image: '/img/L-Proline.png',
    badge: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–π',
    isTopProduct: true,
    isMainTop: true,
  },
  {
    id: 'l-phenylalanine',
    name: 'L-Phenylalanine (L-–§–µ–Ω–∏–ª–∞–ª–∞–Ω–∏–Ω)',
    subtitle: '–ù–∞—Ç—É—Ä–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–¥—Ä–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è, —è—Å–Ω–æ–≥–æ —É–º–∞ –∏ —Å—Ç—Ä–µ—Å—Å–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏',
    longDescription: '–≠—Ç–∞ –∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç–∞ ‚Äî –ø–µ—Ä–≤–æ–∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ ¬´–≥–æ—Ä–º–æ–Ω–æ–≤ —Å—á–∞—Å—Ç—å—è¬ª –∏ —ç–Ω–µ—Ä–≥–∏–∏ (–¥–æ—Ñ–∞–º–∏–Ω–∞, –Ω–æ—Ä–∞–¥—Ä–µ–Ω–∞–ª–∏–Ω–∞).',
    price: 900,
    quantity: '400 –º–≥ | 60 —Ç–∞–±–ª–µ—Ç–æ–∫',
    image: '/img/L-Phenilalanine.png',
    badge: '–ù–æ–≤–∏–Ω–∫–∞',
    isTopProduct: true,
    isMainTop: true,
  },
  {
    id: 'l-valine',
    name: 'L-Valine (L-–í–∞–ª–∏–Ω)',
    subtitle: '–ò—Å—Ç–æ—á–Ω–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è –º—ã—à—Ü –∏ –Ω–∞–¥–µ–∂–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–∞—Ö',
    longDescription: '–í–∞–ª–∏–Ω ‚Äî –æ–¥–Ω–∞ –∏–∑ —Ç—Ä–µ—Ö –Ω–µ–∑–∞–º–µ–Ω–∏–º—ã—Ö –∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç (BCAA), –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –æ—Ä–≥–∞–Ω–∏–∑–º–æ–º –∏ –¥–æ–ª–∂–Ω–∞ –ø–æ—Å—Ç—É–ø–∞—Ç—å —Å –ø–∏—â–µ–π –∏–ª–∏ –¥–æ–±–∞–≤–∫–∞–º–∏.',
    price: 750,
    quantity: '250 –º–≥ | 60 –∫–∞–ø—Å—É–ª',
    image: '/img/L-valine.png',
    badge: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–π',
    isTopProduct: true,
    isMainTop: false,
  },
  {
    id: 'l-leucine',
    name: 'L-Leucine (L-–õ–µ–π—Ü–∏–Ω)',
    subtitle: '–ì–ª–∞–≤–Ω—ã–π –∞–∫—Ç–∏–≤–∞—Ç–æ—Ä –º—ã—à–µ—á–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è. –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–∏–Ω—Ç–µ–∑ –±–µ–ª–∫–∞!',
    longDescription: '–õ–µ–π—Ü–∏–Ω ‚Äî —ç—Ç–æ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –∏ –º–æ—â–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ –≥—Ä—É–ø–ø—ã BCAA. –ò–º–µ–Ω–Ω–æ –æ–Ω –ø–æ–¥–∞–µ—Ç –ø—Ä—è–º–æ–π —Å–∏–≥–Ω–∞–ª –º—ã—à—Ü–∞–º –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–æ—Å—Ç–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.',
    price: 600,
    quantity: '400 –º–≥ | 60 –∫–∞–ø—Å—É–ª',
    image: '/img/L-Leucine.png',
    badge: '–•–∏—Ç –ø—Ä–æ–¥–∞–∂',
    isTopProduct: true,
    isMainTop: true,
  },
  {
    id: 'l-isoleucine',
    name: 'L-Isoleucine (L-–ò–∑–æ–ª–µ–π—Ü–∏–Ω)',
    subtitle: '–†–µ–≥—É–ª—è—Ç–æ—Ä —ç–Ω–µ—Ä–≥–∏–∏ –∏ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏. –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–µ—Ç —É—Ä–æ–≤–µ–Ω—å —Å–∞—Ö–∞—Ä–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–º–º—É–Ω–∏—Ç–µ—Ç!',
    longDescription: '–ò–∑–æ–ª–µ–π—Ü–∏–Ω, –∫–∞–∫ –∏ –µ–≥–æ —Å–æ–±—Ä–∞—Ç—å—è BCAA, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –º—ã—à—Ü–∞—Ö, –Ω–æ –µ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ä–æ–ª—å ‚Äî —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —ç–Ω–µ—Ä–≥–æ–æ–±–º–µ–Ω –∏ —É—Ä–æ–≤–µ–Ω—å –≥–ª—é–∫–æ–∑—ã –≤ –∫—Ä–æ–≤–∏.',
    price: 800,
    quantity: '250 –º–≥ | 60 –∫–∞–ø—Å—É–ª',
    image: '/img/L-Isoleucine.png',
    badge: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–π',
    isTopProduct: true,
    isMainTop: true,
  },
  {
    id: 'l-cysteine',
    name: 'L-Cysteine (L-–¶–∏—Å—Ç–µ–∏–Ω)',
    subtitle: '–ú–æ—â–Ω—ã–π –¥–µ—Ç–æ–∫—Å –∏ –∞–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç–Ω–∞—è –∑–∞—â–∏—Ç–∞ –∏–∑–Ω—É—Ç—Ä–∏ –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è –∫–æ–∂–∏, –≤–æ–ª–æ—Å –∏ –Ω–æ–≥—Ç–µ–π',
    longDescription: '–¶–∏—Å—Ç–µ–∏–Ω ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç–∞, –∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–ª—É—Ç–∞—Ç–∏–æ–Ω–∞, –º–æ—â–Ω–µ–π—à–µ–≥–æ –∞–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—à –æ—Ä–≥–∞–Ω–∏–∑–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Å–∞–º.',
    price: 760,
    quantity: '400 –º–≥ | 60 —Ç–∞–±–ª–µ—Ç–æ–∫',
    image: '/img/L-Cysteine.png',
    badge: '–•–∏—Ç –ø—Ä–æ–¥–∞–∂',
    isTopProduct: true,
    isMainTop: true,
  },
  {
    id: 'calcium-d-gluconate',
    name: 'Calcium D-Gluconate (–ö–∞–ª—å—Ü–∏—è –ì–ª—é–∫–æ–Ω–∞—Ç)',
    subtitle: '–ü—Ä–æ—á–Ω–æ—Å—Ç—å –∫–æ—Å—Ç–µ–π, –∑–¥–æ—Ä–æ–≤—å–µ –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –±–µ–∑ —Å—É–¥–æ—Ä–æ–≥',
    longDescription: '–ö–∞–ª—å—Ü–∏–π ‚Äî —ç—Ç–æ –º–∞–∫—Ä–æ—ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–µ–Ω –Ω–µ —Ç–æ–ª—å–∫–æ –∫–æ—Å—Ç—è–º. –û–Ω –∂–∏–∑–Ω–µ–Ω–Ω–æ –≤–∞–∂–µ–Ω –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–µ—Ä–≤–Ω—ã—Ö –∏–º–ø—É–ª—å—Å–æ–≤, —Ä–∞–±–æ—Ç—ã –º—ã—à—Ü.',
    price: 550,
    quantity: '300 –º–≥ | 60 —Ç–∞–±–ª–µ—Ç–æ–∫',
    image: '/img/–°alcium D-Gluconate.png',
    badge: null,
    isTopProduct: false,
    isMainTop: false,
  },
  {
    id: 'potassium-citrate',
    name: 'Potassium Citrate (–ö–∞–ª–∏—è –¶–∏—Ç—Ä–∞—Ç)',
    subtitle: '–ë–∞–ª–∞–Ω—Å –∂–∏–¥–∫–æ—Å—Ç–∏, –∑–¥–æ—Ä–æ–≤–æ–µ —Å–µ—Ä–¥—Ü–µ –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç —Å—É–¥–æ—Ä–æ–≥ –∏ –æ—Ç–µ–∫–æ–≤',
    longDescription: '–ö–∞–ª–∏–π ‚Äî –≥–ª–∞–≤–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–æ–ª–∏—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–∞—Ä–µ —Å –Ω–∞—Ç—Ä–∏–µ–º. –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–æ–¥–Ω–æ-—Å–æ–ª–µ–≤–æ–π –±–∞–ª–∞–Ω—Å –≤ –∫–ª–µ—Ç–∫–∞—Ö.',
    price: 500,
    quantity: '300 –º–≥ | 60 —Ç–∞–±–ª–µ—Ç–æ–∫',
    image: '/img/Postassium Citrate.png',
    badge: null,
    isTopProduct: false,
    isMainTop: false,
  },
  {
    id: 'zinc-picolinate',
    name: 'Zinc Picolinate (–¶–∏–Ω–∫ –ü–∏–∫–æ–ª–∏–Ω–∞—Ç)',
    subtitle: '–°–∏–ª—å–Ω—ã–π –∏–º–º—É–Ω–∏—Ç–µ—Ç, —á–∏—Å—Ç–∞—è –∫–æ–∂–∞ –∏ –∑–¥–æ—Ä–æ–≤—ã–π –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ–Ω —Å –ª–µ–≥–∫–æ—É—Å–≤–æ—è–µ–º—ã–º —Ü–∏–Ω–∫–æ–º',
    longDescription: '–¶–∏–Ω–∫ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Å–æ—Ç–Ω—è—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ –æ—Ä–≥–∞–Ω–∏–∑–º–µ. –ü–∏–∫–æ–ª–∏–Ω–∞—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ ‚Äî –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –±–∏–æ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö.',
    price: 1200,
    quantity: '250 –º–≥ | 60 —Ç–∞–±–ª–µ—Ç–æ–∫',
    image: '/img/Zinc.png',
    badge: '–ü—Ä–µ–º–∏—É–º',
    isTopProduct: true,
    isMainTop: false,
  },
  {
    id: 'sodium-alginate',
    name: 'Sodium Alginate (–ê–ª—å–≥–∏–Ω–∞—Ç –ù–∞—Ç—Ä–∏—è)',
    subtitle: '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–µ–∑–∫–∏–º –∫–æ–ª–µ–±–∞–Ω–∏—è–º —É—Ä–æ–≤–Ω—è –≥–ª—é–∫–æ–∑—ã, —Å–Ω–∏–∂–∞—è –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ø–æ–¥–∂–µ–ª—É–¥–æ—á–Ω—É—é –∂–µ–ª–µ–∑—É.',
    longDescription: '–ó–∞–º–µ–¥–ª—è–µ—Ç –≤—Å–∞—Å—ã–≤–∞–Ω–∏–µ —Å–∞—Ö–∞—Ä–æ–≤ –∏ —Å–Ω–∏–∂–∞–µ—Ç –≥–ª–∏–∫–µ–º–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–ª–∏–∫. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–µ–∑–∫–∏–º –∫–æ–ª–µ–±–∞–Ω–∏—è–º —É—Ä–æ–≤–Ω—è –≥–ª—é–∫–æ–∑—ã.',
    price: 700,
    quantity: '250 –º–≥ | 60 —Ç–∞–±–ª–µ—Ç–æ–∫',
    image: '/img/Sodium Alginate.png',
    badge: null,
    isTopProduct: false,
    isMainTop: false,
  }
];

async function migrateProducts() {
  console.log('üöÄ –ù–∞—á–∏–Ω–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏—é —Ç–æ–≤–∞—Ä–æ–≤ –≤ Medusa SQLite...');
  
  for (const product of existingProducts) {
    try {
      console.log(`üì¶ –°–æ–∑–¥–∞–µ–º —Ç–æ–≤–∞—Ä: ${product.name}`);
      
      const medusaProduct = await medusaClient.admin.products.create({
        title: product.name,
        description: product.longDescription,
        handle: product.id,
        status: "published",
        variants: [{
          title: "Default",
          prices: [{
            amount: product.price * 100, // Medusa –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–ø–µ–π–∫–∏
            currency_code: "rub"
          }],
          inventory_quantity: 100,
          manage_inventory: true,
          options: [{
            value: product.quantity
          }]
        }],
        images: [{
          url: product.image
        }],
        options: [{
          title: "–†–∞–∑–º–µ—Ä",
          values: [product.quantity]
        }],
        metadata: {
          subtitle: product.subtitle,
          badge: product.badge,
          isTopProduct: product.isTopProduct,
          isMainTop: product.isMainTop
        }
      });
      
      console.log(`‚úÖ –¢–æ–≤–∞—Ä ${product.name} —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω (ID: ${medusaProduct.product.id})`);
    } catch (error) {
      console.error(`‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è ${product.name}:`, error.message);
    }
  }
  
  console.log('üéâ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!');
  console.log('üìä –í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤: ' + existingProducts.length);
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏—é
migrateProducts().catch(console.error);

