# üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ MVP BiomorphX

## ‚ö° –≠–∫—Å–ø—Ä–µ—Å—Å-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞ 30 –º–∏–Ω—É—Ç

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ VDS

#### 1.1 –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **CPU**: 1 —è–¥—Ä–æ
- **RAM**: 2 GB
- **Storage**: 20 GB SSD
- **OS**: Ubuntu 24.04
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: ~500-800 —Ä—É–±/–º–µ—Å

#### 1.2 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É:
```bash
ssh root@your-server-ip
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

#### 2.1 –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞:
```bash
# –°–∫–∞—á–∏–≤–∞–µ–º —Å–∫—Ä–∏–ø—Ç
wget https://raw.githubusercontent.com/your-repo/setup-mvp.sh

# –î–µ–ª–∞–µ–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x setup-mvp.sh

# –ó–∞–ø—É—Å–∫–∞–µ–º
sudo bash setup-mvp.sh
```

#### 2.2 –ò–ª–∏ —Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 18
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx –∏ PM2
sudo apt install -y nginx certbot python3-certbot-nginx
sudo npm install -g pm2
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Medusa Backend

#### 3.1 –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
sudo useradd -m -s /bin/bash biomorphx
sudo usermod -aG sudo biomorphx
sudo su - biomorphx
```

#### 3.2 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Medusa:
```bash
cd /home/biomorphx
mkdir medusa-backend
cd medusa-backend

# –°–æ–∑–¥–∞–Ω–∏–µ Medusa —Å SQLite
npx create-medusa-app@latest

# –í—ã–±–∏—Ä–∞–µ–º:
# ‚úÖ Backend only
# ‚úÖ SQLite
# ‚úÖ Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

#### 3.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env:
```bash
nano .env
```

```env
DATABASE_URL=file:./data.db
JWT_SECRET=biomorphx-super-secret-jwt-key-2024
COOKIE_SECRET=biomorphx-super-secret-cookie-key-2024
NODE_ENV=production
```

#### 3.4 –ó–∞–ø—É—Å–∫ Medusa:
```bash
npm install
npx medusa migrations run
pm2 start npm --name "medusa-backend" -- start
pm2 save
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

#### 4.1 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è backend:
```bash
sudo nano /etc/nginx/sites-available/biomorphx-backend
```

```nginx
server {
    listen 80;
    server_name api.yourdomain.com;

    location / {
        proxy_pass http://localhost:9000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

#### 4.2 –ê–∫—Ç–∏–≤–∞—Ü–∏—è:
```bash
sudo ln -s /etc/nginx/sites-available/biomorphx-backend /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend

#### 5.1 –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤:
```bash
cd /home/biomorphx
git clone https://github.com/your-username/biomorphx.git biomorphx-frontend
cd biomorphx-frontend
```

#### 5.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env:
```bash
nano .env
```

```env
NEXT_PUBLIC_MEDUSA_BACKEND_URL=http://localhost:9000
NODE_ENV=production
```

#### 5.3 –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:
```bash
npm install
npm run build
pm2 start server.js --name "biomorphx-frontend"
pm2 save
```

### 6. –ú–∏–≥—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤

#### 6.1 –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
cd /home/biomorphx/biomorphx-frontend
node scripts/migrate-products-sqlite.js
```

### 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL

#### 7.1 –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:
```bash
sudo certbot --nginx -d api.yourdomain.com
sudo certbot --nginx -d yourdomain.com
```

#### 7.2 –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
```bash
sudo crontab -e
# –î–æ–±–∞–≤–∏—Ç—å: 0 12 * * * /usr/bin/certbot renew --quiet
```

### 8. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

#### 8.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ backend:
```bash
curl https://api.yourdomain.com/health
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: {"status":"ok"}
```

#### 8.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend:
```bash
curl https://yourdomain.com
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É
```

#### 8.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ PM2:
```bash
pm2 status
pm2 logs
```

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
pm2 status
sudo systemctl status nginx

# –õ–æ–≥–∏
pm2 logs
sudo tail -f /var/log/nginx/access.log
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –ë—ç–∫–∞–ø SQLite
cp /home/biomorphx/medusa-backend/data.db /home/biomorphx/backups/data-$(date +%Y%m%d).db

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø
echo "0 2 * * * cp /home/biomorphx/medusa-backend/data.db /home/biomorphx/backups/data-\$(date +\%Y\%m\%d).db" | sudo crontab -
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
```bash
# Backend
cd /home/biomorphx/medusa-backend
git pull
npm install
pm2 restart medusa-backend

# Frontend
cd /home/biomorphx/biomorphx-frontend
git pull
npm install
npm run build
pm2 restart biomorphx-frontend
```

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å MVP

- **VDS**: ~500-800 —Ä—É–±/–º–µ—Å
- **–î–æ–º–µ–Ω**: ~500-1000 —Ä—É–±/–≥–æ–¥
- **SSL**: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (SQLite)
- **–ò—Ç–æ–≥–æ**: ~1000-1500 —Ä—É–±/–º–µ—Å

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É –≤–∞—Å –±—É–¥–µ—Ç:
- ‚úÖ **Backend API**: https://api.yourdomain.com
- ‚úÖ **Frontend**: https://yourdomain.com
- ‚úÖ **11 —Ç–æ–≤–∞—Ä–æ–≤** –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- ‚úÖ **–ö–æ—Ä–∑–∏–Ω–∞ –∏ –∑–∞–∫–∞–∑—ã** —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø–ª–∞—Ç–µ–∂–∞–º** (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å Stripe)

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞—Ç–µ–∂–∏** (Stripe)
2. **–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É** (–°–î–≠–ö)
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É**
4. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã**
5. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `pm2 status`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Nginx: `sudo systemctl status nginx`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: `curl localhost:9000/health`

**–£–¥–∞—á–∏ —Å –∑–∞–ø—É—Å–∫–æ–º! üöÄ**

